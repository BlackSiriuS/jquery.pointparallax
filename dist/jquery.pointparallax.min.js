/* jquery.pointparallax
 -- version 1.0.2
 -- copyright 2018-02-28 BlackSiriuS*2018
 -- licensed under the GNU
 --
 -- https://github.com/BlackSiriuS/jquery.pointparallax
 --
 */
!function(t){t.fn.pointparallax=function(i){i=i||{};var a=t.extend(!0,{},{itemsSelector:".point__item",items:{},itemIncludeMargin:!1,position:null,autoheight:!1,autoheightClass:"pointparallax-autoheight",fixedClass:"pointparallax-fixed",point:"center",path:100,easing:"linear"},i),n=function(t){function i(t){if("number"==typeof t)return t;if("string"==typeof t)try{return t=t.replace(/[^0-9\.-]+/g,""),t=parseFloat(t),isNaN(t)?0:t}catch(t){return 0}return 0}if("object"==typeof t){for(var a in t)t[a]=i(t[a]);return t}return i(t)},o=function(t){if("string"!=typeof t)return t;var i=t.split("-",2).map(function(t){switch(t){case"left":case"top":return 0;case"middle":case"center":return.5;case"right":case"bottom":return 1}return n(t)/100});return i[1]=void 0===i[1]?i[0]:i[1],i};return t(this).each(function(){var i=t(this),e=i.find(a.itemsSelector);function r(){var r={wst:t(window).scrollTop(),wh:t(window).height(),tot:i.offset().top,toh:i.outerHeight()},s=i.data("point")||a.point,p=i.data("path")||a.path,l=i.data("easing")||a.easing,h=[(h=n(i.css(["padding-top","padding-left"])))["padding-left"],h["padding-top"]],d=[i.width(),i.height()];0>(r=(r.wst-r.tot+r.wh)/(r.wh+r.toh))&&(r=0),1<r&&(r=1),"function"==typeof l?r=l(r):"string"==typeof l&&"function"==typeof jQuery.easing[l]&&(r=jQuery.easing[l](r)),e.each(function(i){var e=t(this);if(!e.hasClass(a.fixedClass)){var l=o(e.data("point")||s),g=(e.data("path")||p)/100,f=e.data("easing"),u=[(u=n(e.css(["left","top"]))).left,u.top],c=[e.outerWidth(a.itemIncludeMargin),e.outerHeight(a.itemIncludeMargin)],x=[];"string"==typeof f&&"function"==typeof jQuery.easing[f]&&(r=jQuery.easing[f](r));for(var m=0;m<2;m++)l[m]=l[m]*(d[m]-c[m])+h[m],x[m]=(l[m]-u[m])*g*r;e.css("transform","translate3d("+x[0]+"px, "+x[1]+"px, 0)")}})}a.autoheight&&i.addClass(a.autoheightClass),a.fullshow&&i.addClass(a.fullshowClass),i.data("point")&&i.data("point",o(i.data("point"))),t.each(a.items,function(a,n){var o=i.find(a);t.each(n,function(t,i){o.data(t,i)}),o.length&&(e=e.not(o)),e=e.add(o)}),"relative"!==i.css("position")&&i.css("position","relative"),e.each(function(){var i=t(this);"absolute"!=i.css("position")&&i.css("position","absolute"),i.data("position",o(i.data("position")||a.position))}),i.off("autoheight.pointparallax").on("autoheight.pointparallax",function(n,o){o=o||a;var r=0;e.each(function(){r=Math.max(r,t(this).outerHeight(o.itemIncludeMargin)+(t(this).data("position")?0:t(this).position().top))}),i.height(r)}).off("minsize.pointparallax").on("minsize.pointparallax",function(i,o){o=o||a;var r=[0,0],s=t(this),p=[(p=n(s.css(["padding-top","padding-right","padding-bottom","padding-left"])))["padding-right"]+p["padding-left"],p["padding-top"]+p["padding-bottom"]];e.each(function(){r[0]=Math.max(r[0],t(this).outerWidth(o.itemIncludeMargin)+p[0]),r[1]=Math.max(r[1],t(this).outerHeight(o.itemIncludeMargin)+p[1])}),s.css({"min-width":r[0],"min-height":r[1]})}).off("position.pointparallax").on("position.pointparallax",function(i,r){r=r||a;var s=t(this),p=[s.width(),s.height()],l=[(l=n(s.css(["padding-top","padding-left"])))["padding-left"],l["padding-top"]];e.each(function(){var i=t(this),a=i.data("position");if(a){a=o(a),i.data("position",a);for(var n=[],e=[i.outerWidth(r.itemIncludeMargin),i.outerHeight(r.itemIncludeMargin)],s=0;s<2;s++)n[s]=l[s]+(p[s]-e[s])*a[s];i.css({left:n[0],top:n[1]})}})}).off("resize.pointparallax").on("resize.pointparallax",function(t,n){n=n||a;i.hasClass(n.autoheightClass)&&i.trigger("autoheight.pointparallax",n),i.trigger("minsize.pointparallax",n).trigger("position.pointparallax",n),requestAnimationFrame(r)}).off("scroll.pointparallax").on("scroll.pointparallax",function(n,o){var s={wst:t(window).scrollTop(),wh:t(window).height(),tot:i.offset().top,toh:i.outerHeight()};s.wst+s.wh+20<s.tot||s.tot+s.toh+20<s.wst||(requestAnimationFrame(r),s=(s.wst-s.tot+s.wh)/(s.wh+s.toh),i.trigger("update.pointparallax",s,a,e))}).off("init.pointparallax").on("init.pointparallax",function(t,a){i.trigger("resize.pointparallax",a).trigger("inited.pointparallax",a)}),t(window).on("resize",function(t){i.trigger("resize.pointparallax",a)}).on("scroll",function(t){i.trigger("scroll.pointparallax",a)}),i.trigger("init.pointparallax",a)})}}(jQuery);