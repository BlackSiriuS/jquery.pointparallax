/* jquery.pointparallax
 -- version 1.0.1
 -- copyright 2018-02-28 BlackSiriuS*2018
 -- licensed under the GNU
 --
 -- https://github.com/BlackSiriuS/jquery.pointparallax
 --
 */
!function(t){t.fn.pointparallax=function(i){i=i||{};var a=t.extend(!0,{},{itemsSelector:".point__item",items:{},itemIncludeMargin:!1,position:null,autoheight:!1,autoheightClass:"pointparallax-autoheight",fixedClass:"pointparallax-fixed",point:"center",path:100},i),o=function(t){function i(t){if("number"==typeof t)return t;if("string"==typeof t)try{return t=t.replace(/[^0-9\.-]+/g,""),t=parseFloat(t),isNaN(t)?0:t}catch(t){return 0}return 0}if("object"==typeof t){for(var a in t)t[a]=i(t[a]);return t}return i(t)},n=function(t){if("string"!=typeof t)return t;var i=t.split("-",2).map(function(t){switch(t){case"left":case"top":return 0;case"middle":case"center":return.5;case"right":case"bottom":return 1}return o(t)/100});return i[1]=void 0===i[1]?i[0]:i[1],i};return t(this).each(function(){var i=t(this),e=i.find(a.itemsSelector);function r(){var r={wst:t(window).scrollTop(),wh:t(window).height(),tot:i.offset().top,toh:i.outerHeight()},p=i.data("point")||a.point,s=i.data("path")||a.path,l=[(l=o(i.css(["padding-top","padding-left"])))["padding-left"],l["padding-top"]],h=[i.width(),i.height()];0>(r=(r.wst-r.tot+r.wh)/(r.wh+r.toh))&&(r=0),1<r&&(r=1),e.each(function(i){var o=t(this);if(!o.hasClass(a.fixedClass)){for(var e=n(o.data("point")||p),d=(o.data("path")||s)/100,u=[(u=o.position()).left,u.top],c=[o.outerWidth(a.itemIncludeMargin),o.outerHeight(a.itemIncludeMargin)],f=[],g=0;g<2;g++)e[g]=e[g]*(h[g]-c[g])+l[g],f[g]=(e[g]-u[g])*d*r;o.css("transform","translate3d("+f[0]+"px, "+f[1]+"px, 0)")}})}a.autoheight&&i.addClass(a.autoheightClass),a.fullshow&&i.addClass(a.fullshowClass),i.data("point")&&i.data("point",n(i.data("point"))),t.each(a.items,function(a,o){var n=i.find(a);t.each(o,function(t,i){n.data(t,i)}),n.length&&(e=e.not(n)),e=e.add(n)}),"relative"!==i.css("position")&&i.css("position","relative"),e.each(function(){var i=t(this);"absolute"!=i.css("position")&&i.css("position","absolute"),i.data("position",n(i.data("position")||a.position))}),i.off("autoheight.pointparallax").on("autoheight.pointparallax",function(o,n){n=n||a;var r=0;e.each(function(){r=Math.max(r,t(this).outerHeight(n.itemIncludeMargin)+(t(this).data("position")?0:t(this).position().top))}),i.height(r)}).off("minsize.pointparallax").on("minsize.pointparallax",function(i,n){n=n||a;var r=[0,0],p=t(this),s=[(s=o(p.css(["padding-top","padding-right","padding-bottom","padding-left"])))["padding-right"]+s["padding-left"],s["padding-top"]+s["padding-bottom"]];e.each(function(){r[0]=Math.max(r[0],t(this).outerWidth(n.itemIncludeMargin)+s[0]),r[1]=Math.max(r[1],t(this).outerHeight(n.itemIncludeMargin)+s[1])}),p.css({"min-width":r[0],"min-height":r[1]})}).off("position.pointparallax").on("position.pointparallax",function(i,r){r=r||a;var p=t(this),s=[p.width(),p.height()],l=[(l=o(p.css(["padding-top","padding-left"])))["padding-left"],l["padding-top"]];e.each(function(){var i=t(this),a=i.data("position");if(a){a=n(a),i.data("position",a);for(var o=[],e=[i.outerWidth(r.itemIncludeMargin),i.outerHeight(r.itemIncludeMargin)],p=0;p<2;p++)o[p]=l[p]+(s[p]-e[p])*a[p];i.css({left:o[0],top:o[1]})}})}).off("resize.pointparallax").on("resize.pointparallax",function(t,o){o=o||a;i.hasClass(o.autoheightClass)&&i.trigger("autoheight.pointparallax",o),i.trigger("minsize.pointparallax",o).trigger("position.pointparallax",o),requestAnimationFrame(r)}).off("scroll.pointparallax").on("scroll.pointparallax",function(o,n){var p={wst:t(window).scrollTop(),wh:t(window).height(),tot:i.offset().top,toh:i.outerHeight()};p.wst+p.wh+20<p.tot||p.tot+p.toh+20<p.wst||(requestAnimationFrame(r),p=(p.wst-p.tot+p.wh)/(p.wh+p.toh),i.trigger("update.pointparallax",p,a,e))}).off("init.pointparallax").on("init.pointparallax",function(t,a){i.trigger("resize.pointparallax",a).trigger("inited.pointparallax",a)}),t(window).on("resize",function(t){i.trigger("resize.pointparallax",a)}).on("scroll",function(t){i.trigger("scroll.pointparallax",a)}),i.trigger("init.pointparallax",a)})}}(jQuery);